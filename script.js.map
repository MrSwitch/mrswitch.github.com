{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/tricks/object/instanceOf.js","webpack:///./node_modules/tricks/events/createEvent.js","webpack:///./node_modules/tricks/array/toArray.js","webpack:///./node_modules/tricks/dom/isDom.js","webpack:///./node_modules/tricks/dom/each.js","webpack:///./node_modules/tricks/dom/attr.js","webpack:///./node_modules/tricks/dom/createElement.js","webpack:///./node_modules/tricks/browser/http/getScript.js","webpack:///./src/script.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","t","e","test","root","dict","bubbles","cancelable","createEvent","eventname","options","arguments","length","Event","document","initEvent","obj","Array","slice","instanceOf","_HTMLElement","HTMLElement","Element","_HTMLDocument","HTMLDocument","Document","_Window","window","constructor","isDom","toArray","matches","callback","querySelectorAll","forEach","each","elements","props","element","x","prop","setAttribute","attr","tagName","attrs","elm","createElement","url","timeout","bool","timer","head","getElementsByTagName","parentNode","cb","clearTimeout","setTimeout","script","src","onerror","onload","onreadystatechange","readyState","async","insertBefore","firstChild","a","getScript","Math","floor","random","self","background","bg","hashchange","controls","location","hash","documentElement","classList","config","push","BG","init","setup","addEventListener","href","id","innerHTML","onclick","stopPropagation","body","appendChild","event","preventDefault"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = (test, root) => root && test instanceof root;\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","module.exports = obj => Array.prototype.slice.call(obj);\n","const instanceOf = require('../object/instanceOf.js');\n\nconst _HTMLElement = (typeof HTMLElement !== 'undefined' && HTMLElement) || (typeof Element !== 'undefined' && Element);\nconst _HTMLDocument = (typeof HTMLDocument !== 'undefined' && HTMLDocument) || (typeof Document !== 'undefined' && Document);\nconst _Window = window.constructor;\n\nmodule.exports = test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n","const isDom = require('./isDom.js');\nconst instanceOf = require('../object/instanceOf.js');\nconst toArray = require('../array/toArray.js');\n\nmodule.exports = (matches, callback = () => {}) => {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n};\n","const each = require('./each.js');\n\nmodule.exports = (elements, props) =>\n\teach(elements, element => {\n\t\tfor (const x in props) {\n\t\t\tconst prop = props[x];\n\t\t\tif (typeof prop === 'function') {\n\t\t\t\telement[x] = prop;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.setAttribute(x, prop);\n\t\t\t}\n\t\t}\n\t});\n","const attr = require('./attr.js');\n\nmodule.exports = (tagName, attrs) => {\n\tconst elm = document.createElement(tagName);\n\tattr(elm, attrs);\n\treturn elm;\n};\n","const createElement = require('../../dom/createElement.js');\nconst createEvent = require('../../events/createEvent.js');\n\nmodule.exports = (url, callback, timeout = 0) => {\n\n\t// Inject a script tag\n\tlet bool = 0;\n\tlet timer;\n\tconst head = document.getElementsByTagName('script')[0].parentNode;\n\tconst cb = e => {\n\t\tif (!(bool++) && callback) {\n\t\t\tcallback(e);\n\t\t}\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t};\n\n\t// Add timeout\n\tif (timeout) {\n\t\ttimer = window.setTimeout(() => {\n\t\t\tcb(createEvent('timeout'));\n\t\t}, timeout);\n\t}\n\n\t// Build script tag\n\tconst script = createElement('script', {\n\t\tsrc: url,\n\t\tonerror: cb,\n\t\tonload: cb,\n\t\tonreadystatechange: () => {\n\t\t\tif (/loaded|complete/i.test(script.readyState)) {\n\t\t\t\tcb(createEvent('load'));\n\t\t\t}\n\t\t}\n\t});\n\n\t// Set Async\n\tscript.async = true;\n\n\t// Inject script tag into the head element\n\thead.insertBefore(script, head.firstChild);\n\n\treturn script;\n};\n","// Script\n// This script controls the background page\nconst getScript = require('tricks/browser/http/getScript');\n\nconst name = (function() {\n\tconst a = ['mineField', 'tiledOfLife', 'colorFlood', 'tetris'];\n\treturn a[Math.floor(Math.random() * a.length)] || a[0];\n})();\n\ngetScript(`/background/dist/${name}.js`);\n\n// Install background\nself.background = self.background || [];\n\nlet bg;\n\n// Push a function to call\nself.background.push(BG => {\n\t// Passing in null for target inserts it into the body background\n\tbg = BG.init(null);\n\n\t// Setup, without any controls\n\tif (bg.setup) {\n\n\t\t// Set default state\n\t\tbg.setup({\n\t\t\tcontrols: false\n\t\t});\n\t}\n\n\t// Is this a configurable background?\n\tif (bg.config) {\n\n\t\t// Create a controller to listen to toggling between states\n\t\twindow.addEventListener('hashchange', hashchange);\n\t\thashchange();\n\n\t\t// Show the controls\n\t\tconst a = document.createElement('a');\n\t\ta.href = '#background';\n\t\ta.id = 'play_btn'; // jerky jank prevention\n\t\ta.innerHTML = 'Play';\n\t\ta.onclick = function(e) {\n\t\t\te.stopPropagation();\n\t\t};\n\t\tdocument.body.appendChild(a);\n\t}\n});\n\n\n// Listen to the background trigger to show/hide the background\nfunction hashchange() {\n\n\t// Has the backdrop come into the focus?\n\tconst controls = (window.location.hash === '#background');\n\n\t// Add/Remove class from window\n\twindow.document.documentElement.classList[controls ? 'add' : 'remove']('background');\n\n\tbg.config({controls});\n}\n\n// Fix ios scrolling issue\ndocument.addEventListener('touchmove', event => {\n\tevent.preventDefault();\n}, false);\n\n"],"sourceRoot":""}