{
  "version": 3,
  "sources": ["node_modules/tricks/object/instanceOf.js", "node_modules/tricks/dom/isDom.js", "node_modules/tricks/array/toArray.js", "node_modules/tricks/dom/each.js", "node_modules/tricks/dom/attr.js", "node_modules/tricks/dom/createElement.js", "node_modules/tricks/events/createEvent.js", "node_modules/tricks/browser/http/getScript.js", "src/script.js"],
  "sourcesContent": ["export default (test, root) => root && test instanceof root;\n", "import instanceOf from '../object/instanceOf.js';\n\nconst _HTMLElement = (typeof HTMLElement !== 'undefined' && HTMLElement) || (typeof Element !== 'undefined' && Element);\nconst _HTMLDocument = (typeof HTMLDocument !== 'undefined' && HTMLDocument) || (typeof Document !== 'undefined' && Document);\nconst _Window = window.constructor;\n\nexport default test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n", "/**\n * Converts an iterable value to an Array\n * @param {object} obj - Object to convert into an array\n * @returns {Array} The object as an array\n */\nfunction toArray(obj) {\n\treturn Array.prototype.slice.call(obj);\n}\n\nexport default toArray;\n", "import isDom from './isDom.js';\nimport instanceOf from '../object/instanceOf.js';\nimport toArray from '../array/toArray.js';\n\nexport default function each(matches, callback = () => {}) {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n}\n", "import each from './each.js';\n\nexport default (elements, props) =>\n\teach(elements, element => {\n\t\tfor (const x in props) {\n\t\t\tconst prop = props[x];\n\t\t\tif (typeof prop === 'function') {\n\t\t\t\telement[x] = prop;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.setAttribute(x, prop);\n\t\t\t}\n\t\t}\n\t});\n", "import attr from './attr.js';\n\nexport default (tagName, attrs) => {\n\tconst elm = document.createElement(tagName);\n\tattr(elm, attrs);\n\treturn elm;\n};\n", "// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nexport default createEvent;\n", "import createElement from '../../dom/createElement.js';\nimport createEvent from '../../events/createEvent.js';\n\nexport default (url, callback, timeout = 0) => {\n\n\t// Inject a script tag\n\tlet bool = 0;\n\tlet timer;\n\tconst head = document.getElementsByTagName('script')[0].parentNode;\n\tconst cb = e => {\n\t\tif (!(bool++) && callback) {\n\t\t\tcallback(e);\n\t\t}\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t};\n\n\t// Add timeout\n\tif (timeout) {\n\t\ttimer = window.setTimeout(() => {\n\t\t\tcb(createEvent('timeout'));\n\t\t}, timeout);\n\t}\n\n\t// Build script tag\n\tconst script = createElement('script', {\n\t\tsrc: url,\n\t\tonerror: cb,\n\t\tonload: cb,\n\t\tonreadystatechange: () => {\n\t\t\tif (/loaded|complete/i.test(script.readyState)) {\n\t\t\t\tcb(createEvent('load'));\n\t\t\t}\n\t\t}\n\t});\n\n\t// Set Async\n\tscript.async = true;\n\n\t// Inject script tag into the head element\n\thead.insertBefore(script, head.firstChild);\n\n\treturn script;\n};\n", "// Script\n// This script controls the background page\nimport getScript from 'tricks/browser/http/getScript.js';\n\nconst name = (function () {\n\tconst a = ['mineField', 'tiledOfLife', 'colorFlood', 'tetris'];\n\treturn a[Math.floor(Math.random() * a.length)] || a[0];\n})();\n\ngetScript(`/background/dist/${name}.js`);\n\n// Install background\nself.background = self.background || [];\n\nlet bg;\n\n// Push a function to call\nself.background.push(BG => {\n\t// Passing in null for target inserts it into the body background\n\tbg = BG.init(null);\n\n\t// Setup, without any controls\n\tif (bg.setup) {\n\t\t// Set default state\n\t\tbg.setup({\n\t\t\tcontrols: false,\n\t\t});\n\t}\n\n\t// Is this a configurable background?\n\tif (bg.config) {\n\t\t// Create a controller to listen to toggling between states\n\t\twindow.addEventListener('hashchange', hashchange);\n\t\thashchange();\n\n\t\t// Show the controls\n\t\tconst a = document.createElement('a');\n\t\ta.href = '#background';\n\t\ta.id = 'play_btn'; // jerky jank prevention\n\t\ta.innerHTML = 'Play';\n\t\ta.onclick = function (e) {\n\t\t\te.stopPropagation();\n\t\t};\n\t\tdocument.body.appendChild(a);\n\t}\n});\n\n// Listen to the background trigger to show/hide the background\nfunction hashchange() {\n\t// Has the backdrop come into the focus?\n\tconst controls = window.location.hash === '#background';\n\n\t// Add/Remove class from window\n\twindow.document.documentElement.classList[controls ? 'add' : 'remove'](\n\t\t'background'\n\t);\n\n\tbg.config({controls});\n}\n\n// Fix ios scrolling issue\ndocument.addEventListener(\n\t'touchmove',\n\tevent => {\n\t\tevent.preventDefault();\n\t},\n\tfalse\n);\n"],
  "mappings": "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",
  "names": ["instanceOf_default", "test", "root", "_HTMLElement", "_HTMLDocument", "_Window", "isDom_default", "test", "instanceOf_default", "toArray", "obj", "toArray_default", "each", "matches", "callback", "isDom_default", "instanceOf_default", "toArray_default", "attr_default", "elements", "props", "each", "element", "x", "prop", "createElement_default", "tagName", "attrs", "elm", "attr_default", "dict", "createEvent", "eventname", "options", "e", "createEvent_default", "getScript_default", "url", "callback", "timeout", "bool", "timer", "head", "cb", "e", "createEvent_default", "script", "createElement_default", "name", "a", "getScript_default", "bg", "BG", "hashchange", "e", "controls", "event"]
}
